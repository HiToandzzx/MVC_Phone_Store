@{
    try
    {
        string name = Session["UserName"].ToString();
        if (name != null)
        {
            ViewBag.NguoiDung = name;
        }
        else
        {
            ViewBag.NguoiDung = "Thông tin người dùng: Chưa đăng nhập ";
        }
    }
    catch
    {

    }
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    @Styles.Render("/Content/css")
    <link href="/icon.ico" rel="icon" type="image/x-icon" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <div class="header">
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand " href="@Url.Action("Index", "Phones/Index")">
                    <img id="logo" src="~/Images/main_logo.png" />
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <div class="navbar-nav">
                        <div class="nav-item">
                            @using (Html.BeginForm("Index", "Phones", FormMethod.Get))
                            {
                                @Html.AntiForgeryToken()

                                <div class="col" style="margin-right: 50px;">
                                    <div class="search-container">
                                        <input type="text" placeholder="Bạn cần tìm gì..." class="form-control" name="PhonesName" value="@ViewBag.PhonesName" />
                                        <i class='bx bx-search' style="font-size: 25px; color: black"></i>
                                    </div>
                                </div>
                            }
                        </div>

                        <div class="">
                            <a id="user" class="btn btn-warning logout-container acc">
                                <i class='bx bx-user' style="font-size: 25px; color: black; padding-bottom: 2px; margin-left: 10px"></i>
                                <p class="logout-container" id="nguoidung" style="color: #111; margin: 0"> @ViewBag.NguoiDung </p>
                            </a>
                        </div>

                        <div class="nav-item">
                            <a id="user" class="btn btn-warning user-container" href="@Url.Action("Login", "UserAccounts/Login")">
                                Tài khoản
                            </a>
                        </div>

                        <div class="nav-item">
                            <div class="row">
                                <div class="col">
                                    <a href="@Url.Action("Cart", "Phones/Cart")">
                                        <div class="cart-container">
                                            <i class='bx bx-cart' style="font-size: 25px; color: black;"></i>
                                            <button type="button" class="btn btn-warning cart" style="margin-left: 10px">Giỏ hàng</button>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="nav-item">
                            <a class='btn btn-warning bx bx-log-out logout-container' href="@Url.Action("Logout", "UserAccounts/Logout")" style="font-size: 25px"></a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

    </div>

    <div class="container">
        @RenderBody()
    </div>

    <hr />
    <footer class="footer-grid" >
        <div class="follow">
            <div class="text-center">
                <a href="https://www.facebook.com/Hoangson.mobile.official"><i class='bx bxl-facebook icon'></i></a>
                <a href="https://www.instagram.com/hoangsonmobile/"><i class='bx bxl-instagram icon'></i></a>
                <a href="https://www.instagram.com/takumirestaurante/"><i class='bx bxl-twitter icon'></i></a>
                <a href="https://www.instagram.com/takumirestaurante/"><i class='bx bxl-linkedin-square icon'></i></a>
            </div>

            <div class="visit text-center mt-3">
                <div class="row">
                    <div class="row">
                        <div class="col-3">
                            Địa chỉ:
                        </div>
                        <div class="col-9">
                            <p style="color: dodgerblue">310 Lê Lai, P.Đông Sơn, Thanh Hóa</p>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-3">
                            T2 - T6:
                        </div>
                        <div class="col-9">
                            <p style="color: dodgerblue">7:00 - 20:00</p>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-3">
                            T7 - CN:
                        </div>
                        <div class="col-9">
                            <p style="color: dodgerblue">8:00 - 20:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="page">
            <h4 class="text-center" style="font-weight: bold; ">Tổng đài hỗ trợ</h4>
            <div class="row p-3">
                <div class="row">
                    <div class="col">
                        Gọi mua:
                    </div>
                    <div class="col">
                        <p style="color: dodgerblue">1900 232 460</p>
                    </div>
                    <div class="col">
                        (7:30 - 22:00)
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        Khiếu nại:
                    </div>
                    <div class="col">
                        <p style="color: dodgerblue">1800.1062</p>
                    </div>
                    <div class="col">
                        (8:00 - 21:30)
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        Bảo hành:
                    </div>
                    <div class="col">
                        <p style="color: dodgerblue">1900 232 464</p>
                    </div>
                    <div class="col">
                        (8:00 - 21:00)
                    </div>
                </div>
            </div>
        </div>

        <img src="~/Images/Home/loca.jpg" style="width: 100%; height: 180px; border-radius: 10px; object-fit: cover"/>
    </footer>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("scripts", false)

    <script>
        $(document).ready(function () {
            var nguoiDung = "@ViewBag.NguoiDung";

            if (nguoiDung.trim() === "") {
                $(".logout-container").hide(); // Ẩn logout khi không có người dùng
                $(".user-container").show(); // Hiển thị logout khi có người dùng
            } else {
                $(".logout-container").show(); // Hiển thị logout khi có người dùng
                $(".user-container").hide(); // Ẩn user khi không có người dùng
            }
        });
    </script>

    <script>
        $(document).ready(function () {
            // Để lấy giá trị từ local storage
            var storedValue = localStorage.getItem('savedValue');
            var spanHienThi = document.getElementById('quantity-cart');

            if (storedValue !== null) {
                // Thực hiện xử lý với giá trị từ local storage ở đây
                spanHienThi.textContent = storedValue;
            } else {
                spanHienThi.textContent = 0;

            }
        });
    </script>
</body>
</html>

<style>
    * {
        margin: 0;
        box-sizing: border-box;
    }


    body {
        font-family: Tahoma, Verdana, sans-serif;
        font-size: 17px;
    }

    .navbar-brand{
        margin-left: 70px;
    }
    
    .container-fluid {
        color: #5271ff;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background-color: #ffd400;
        z-index: 1000;
    }

    #logo {
        height: 80px;
        padding-left: 40px;
        max-width: 300px;
    }

    .container {
        margin-top: 100px;
    }
        
    .link-ins {
        color: #111;
        text-decoration: none;
    }

        .link-ins:hover {
            color: red;
        }


    .bx-dots-horizontal-rounded {
        color: red;
    }

    .icon {
        color: #111;
        font-size: 35px;
        margin-right: 20px;
    }

    .bxl-facebook:hover {
        color: blue;
    }

    .bxl-instagram:hover {
        color: orangered;
    }

    .bxl-twitter:hover {
        color: #49c5fc;
    }

    .bxl-linkedin-square:hover {
        color: #2a5bff;
    }

    .text-center h5 {
        font-weight: bold;
        margin-bottom: 20px;
    }

    .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        grid-gap: 20px;
        padding: 20px;
        background-color: #f9f9f9;
    }

    /*THANH TÌM KIẾM*/
    .search-container {
        position: relative;
    }

        .search-container input[type="text"] {
            padding-right: 100px;
        }

        .search-container i.bx-search {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
        }

    /*BUTTON ACCOUNT*/
    .nav-item{
        margin-right: 20px;
    }

    .btn-warning {
        margin-left: 10px;
    }

    .navbar-collapse {
        display: flex;
        justify-content: center;
    }

    /*ACC*/
    .acc {
        position: relative; 
    }

    .acc {
        padding-left: 40px;
    }

    .acc i {
        position: absolute;
        left: 0; 
        top: 0; 
        margin: 5px 0 0 0
    }

    /*CART*/
    .cart-container {
        position: relative;
    }

    .cart {
        padding-left: 40px;
    }

    .cart-container i.bx-cart {
        position: absolute;
        top: 50%;
        left: 20px;
        transform: translateY(-50%);
    }


</style>





